{"ast":null,"code":"import _regeneratorRuntime from\"D:/Course 3/Semester_2/\\u0412\\u0435\\u0431/CashR(CourseWork)/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Course 3/Semester_2/\\u0412\\u0435\\u0431/CashR(CourseWork)/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Course 3/Semester_2/\\u0412\\u0435\\u0431/CashR(CourseWork)/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import\"./AuthReg.css\";import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Registration=function Registration(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),firstName=_useState4[0],setFirstName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),lastName=_useState6[0],setLastName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];function handleChangeFirstName(event){setFirstName(event.target.value);}function handleChangeLastName(event){setLastName(event.target.value);}function handleChangeEmail(event){setEmail(event.target.value);}function handleChangePassword(event){setPassword(event.target.value);}function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();user={firstName:firstName,lastName:lastName,email:email,password:password};_context.next=4;return fetch('http://localhost:5000/auth/registration',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(user)}).then(function(response){return response.json();}).then(function(data){if(data.isRegistered){alert(data.message);navigate('/login');}else{alert(data.message);}}).catch(function(error){return console.error(error);});case 4:case\"end\":return _context.stop();}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"auth_reg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title_text\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"})}),/*#__PURE__*/_jsxs(\"form\",{className:\"auth_reg_form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:firstName,placeholder:\"Введите фамилию\",onChange:function onChange(e){return setFirstName(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:lastName,placeholder:\"Введите имя\",onChange:function onChange(e){return setLastName(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,placeholder:\"Введите почту\",onChange:function onChange(e){return setEmail(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,placeholder:\"Введите пароль\",onChange:function onChange(e){return setPassword(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"})]})]});};export default Registration;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Registration","navigate","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","firstName","setFirstName","_useState5","_useState6","lastName","setLastName","_useState7","_useState8","password","setPassword","handleChangeFirstName","event","target","value","handleChangeLastName","handleChangeEmail","handleChangePassword","handleSubmit","_x","_handleSubmit","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","user","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","data","isRegistered","alert","message","catch","error","console","stop","className","children","onSubmit","type","placeholder","onChange","e","required"],"sources":["D:/Course 3/Semester_2/Веб/CashR(CourseWork)/front/src/Components/Registration&Authorization/Registration.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./AuthReg.css\";\r\nimport {useNavigate} from 'react-router-dom';\r\n\r\nconst Registration = () => {\r\n    const navigate = useNavigate();\r\n    const [email, setEmail] = useState(\"\");\r\n    const [firstName, setFirstName] = useState(\"\");\r\n    const [lastName, setLastName] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    function handleChangeFirstName(event) {\r\n        setFirstName(event.target.value);\r\n    }\r\n\r\n    function handleChangeLastName(event) {\r\n        setLastName(event.target.value);\r\n    }\r\n    function handleChangeEmail(event) {\r\n        setEmail(event.target.value);\r\n    }\r\n\r\n    function handleChangePassword(event) {\r\n        setPassword(event.target.value);\r\n    }\r\n\r\n    async function handleSubmit(event) {\r\n        event.preventDefault();\r\n        const user = {firstName, lastName, email, password};\r\n        await fetch('http://localhost:5000/auth/registration', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify(user),\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data.isRegistered) {\r\n                    alert(data.message);\r\n                    navigate('/login');\r\n                }\r\n                else{\r\n                    alert(data.message);\r\n                }\r\n\r\n            })\r\n            .catch(error => console.error(error));\r\n    }\r\n\r\n    return (\r\n        <div className=\"auth_reg\">\r\n            <div className=\"title_text\">\r\n                <h1>Регистрация</h1>\r\n            </div>\r\n            <form className=\"auth_reg_form\" onSubmit={handleSubmit}>\r\n                <input\r\n                    type=\"text\"\r\n                    value={firstName}\r\n                    placeholder={\"Введите фамилию\"}\r\n                    onChange={(e) => setFirstName(e.target.value)}\r\n                    required\r\n                />\r\n                <input\r\n                    type=\"text\"\r\n                    value={lastName}\r\n                    placeholder={\"Введите имя\"}\r\n                    onChange={(e) => setLastName(e.target.value)}\r\n                    required\r\n                />\r\n                <input\r\n                    type=\"email\"\r\n                    value={email}\r\n                    placeholder={\"Введите почту\"}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    required\r\n                />\r\n                <input\r\n                    type=\"password\"\r\n                    value={password}\r\n                    placeholder={\"Введите пароль\"}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    required\r\n                />\r\n                <button type=\"submit\">Зарегистрироваться</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\nexport default Registration;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}