{"ast":null,"code":"import _slicedToArray from\"D:/Course 3/Semester_2/\\u0412\\u0435\\u0431/CashR(CourseWork)/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{VictoryPie}from\"victory\";import{CSSTransition}from\"react-transition-group\";import\"../MainPage/MainPage.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var IncomePieChart=function IncomePieChart(_ref){var sortedTransactions=_ref.sortedTransactions;var types={};sortedTransactions.forEach(function(transaction){if(transaction.valueOfTransaction>0){if(types[transaction.typeOfTransaction]){types[transaction.typeOfTransaction]+=transaction.valueOfTransaction;}else{types[transaction.typeOfTransaction]=transaction.valueOfTransaction;}}});var data=Object.keys(types).map(function(type,index){return{x:type,y:types[type],label:\"\".concat(type)};});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showChart=_useState2[0],setShowChart=_useState2[1];useEffect(function(){var timer=setTimeout(function(){setShowChart(true);},1000);return function(){return clearTimeout(timer);};},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0414\\u0438\\u0430\\u0433\\u0440\\u0430\\u043C\\u043C\\u0430 \\u0434\\u043E\\u0445\\u043E\\u0434\\u043E\\u0432:\"}),/*#__PURE__*/_jsx(CSSTransition,{in:showChart,timeout:500,classNames:\"fade\",unmountOnExit:true,children:/*#__PURE__*/_jsx(VictoryPie,{data:data,colorScale:[\"#a0ff6c\",\"#2e9100\",\"#3fff00\"],labelRadius:100,style:{labels:{fontSize:20,fill:\"white\"}},animate:{duration:1000}})})]});};export default IncomePieChart;","map":{"version":3,"names":["React","useEffect","useState","VictoryPie","CSSTransition","jsx","_jsx","jsxs","_jsxs","IncomePieChart","_ref","sortedTransactions","types","forEach","transaction","valueOfTransaction","typeOfTransaction","data","Object","keys","map","type","index","x","y","label","concat","_useState","_useState2","_slicedToArray","showChart","setShowChart","timer","setTimeout","clearTimeout","children","in","timeout","classNames","unmountOnExit","colorScale","labelRadius","style","labels","fontSize","fill","animate","duration"],"sources":["D:/Course 3/Semester_2/Веб/CashR(CourseWork)/front/src/Components/PieCharts/IncomePieCharts.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { VictoryPie } from \"victory\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport \"../MainPage/MainPage.css\";\r\n\r\nconst IncomePieChart = ({ sortedTransactions }) => {\r\n    const types = {};\r\n\r\n    sortedTransactions.forEach((transaction) => {\r\n        if (transaction.valueOfTransaction > 0) {\r\n            if (types[transaction.typeOfTransaction]) {\r\n                types[transaction.typeOfTransaction] += transaction.valueOfTransaction;\r\n            } else {\r\n                types[transaction.typeOfTransaction] = transaction.valueOfTransaction;\r\n            }\r\n        }\r\n    });\r\n\r\n    const data = Object.keys(types).map((type, index) => ({\r\n        x: type,\r\n        y: types[type],\r\n        label: `${type}`,\r\n    }));\r\n\r\n    const [showChart, setShowChart] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n            setShowChart(true);\r\n        }, 1000);\r\n        return () => clearTimeout(timer);\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <h1>Диаграмма доходов:</h1>\r\n            <CSSTransition\r\n                in={showChart}\r\n                timeout={500}\r\n                classNames=\"fade\"\r\n                unmountOnExit\r\n            >\r\n                <VictoryPie\r\n                    data={data}\r\n                    colorScale={[\"#a0ff6c\", \"#2e9100\", \"#3fff00\"]}\r\n                    labelRadius={100}\r\n                    style={{ labels: { fontSize: 20, fill: \"white\" } }}\r\n                    animate={{ duration: 1000 }}\r\n                />\r\n            </CSSTransition>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default IncomePieChart;\r\n"],"mappings":"uJAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,UAAU,KAAQ,SAAS,CACpC,OAASC,aAAa,KAAQ,wBAAwB,CACtD,MAAO,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElC,GAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAAC,IAAA,CAA+B,IAAzB,CAAAC,kBAAkB,CAAAD,IAAA,CAAlBC,kBAAkB,CACxC,GAAM,CAAAC,KAAK,CAAG,CAAC,CAAC,CAEhBD,kBAAkB,CAACE,OAAO,CAAC,SAACC,WAAW,CAAK,CACxC,GAAIA,WAAW,CAACC,kBAAkB,CAAG,CAAC,CAAE,CACpC,GAAIH,KAAK,CAACE,WAAW,CAACE,iBAAiB,CAAC,CAAE,CACtCJ,KAAK,CAACE,WAAW,CAACE,iBAAiB,CAAC,EAAIF,WAAW,CAACC,kBAAkB,CAC1E,CAAC,IAAM,CACHH,KAAK,CAACE,WAAW,CAACE,iBAAiB,CAAC,CAAGF,WAAW,CAACC,kBAAkB,CACzE,CACJ,CACJ,CAAC,CAAC,CAEF,GAAM,CAAAE,IAAI,CAAGC,MAAM,CAACC,IAAI,CAACP,KAAK,CAAC,CAACQ,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,QAAM,CAClDC,CAAC,CAAEF,IAAI,CACPG,CAAC,CAAEZ,KAAK,CAACS,IAAI,CAAC,CACdI,KAAK,IAAAC,MAAA,CAAKL,IAAI,CAClB,CAAC,EAAC,CAAC,CAEH,IAAAM,SAAA,CAAkCzB,QAAQ,CAAC,KAAK,CAAC,CAAA0B,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA1CG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAE9B3B,SAAS,CAAC,UAAM,CACZ,GAAM,CAAA+B,KAAK,CAAGC,UAAU,CAAC,UAAM,CAC3BF,YAAY,CAAC,IAAI,CAAC,CACtB,CAAC,CAAE,IAAI,CAAC,CACR,MAAO,kBAAM,CAAAG,YAAY,CAACF,KAAK,CAAC,GACpC,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIxB,KAAA,QAAA2B,QAAA,eACI7B,IAAA,OAAA6B,QAAA,CAAI,oGAAkB,CAAI,CAAC,cAC3B7B,IAAA,CAACF,aAAa,EACVgC,EAAE,CAAEN,SAAU,CACdO,OAAO,CAAE,GAAI,CACbC,UAAU,CAAC,MAAM,CACjBC,aAAa,MAAAJ,QAAA,cAEb7B,IAAA,CAACH,UAAU,EACPc,IAAI,CAAEA,IAAK,CACXuB,UAAU,CAAE,CAAC,SAAS,CAAE,SAAS,CAAE,SAAS,CAAE,CAC9CC,WAAW,CAAE,GAAI,CACjBC,KAAK,CAAE,CAAEC,MAAM,CAAE,CAAEC,QAAQ,CAAE,EAAE,CAAEC,IAAI,CAAE,OAAQ,CAAE,CAAE,CACnDC,OAAO,CAAE,CAAEC,QAAQ,CAAE,IAAK,CAAE,CAC/B,CAAC,CACS,CAAC,EACf,CAAC,CAEd,CAAC,CAED,cAAe,CAAAtC,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}